<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Перенаправление на Magic Training</title>
    <script>
        // Проверяем, является ли запрос к статическому файлу
        const currentPath = window.location.pathname;
        
        // Если это запрос к видео, аудио, изображениям или другим статическим файлам
        // НЕ перенаправляем на главную
        const staticFileExtensions = ['.mp4', '.webm', '.ogg', '.jpg', '.jpeg', '.png', '.gif', '.svg', '.ico', '.css', '.js', '.json', '.woff', '.woff2', '.ttf', '.eot'];
        
        const isStaticFile = staticFileExtensions.some(ext => currentPath.endsWith(ext));
        
        if (!isStaticFile) {
            // Только для HTML-страниц перенаправляем на главную
            const repoName = 'MagicTrainig';
            const correctPath = `/${repoName}/index.html`;
            
            // Если путь не содержит название репозитория, добавляем его
            if (!currentPath.includes(repoName) && currentPath !== '/') {
                window.location.href = correctPath;
            } else if (currentPath === `/${repoName}/` || currentPath === `/${repoName}`) {
                window.location.href = correctPath;
            }
        }
        // Для статических файлов ничего не делаем - пусть GitHub отдает 404
    </script>
</head>
<body>
    <p>Если вы видите это сообщение, файл не найден.</p>
    <script>
        // Резервное перенаправление только для не-статических файлов
        setTimeout(() => {
            const currentPath = window.location.pathname;
            const isStaticFile = ['.mp4', '.webm', '.ogg', '.jpg', '.jpeg', '.png', '.gif', '.svg'].some(ext => currentPath.endsWith(ext));
            
            if (!isStaticFile) {
                window.location.href = '/MagicTrainig/index.html';
            }
        }, 2000);
    </script>
</body>
</html>
